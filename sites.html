<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PortfÃ³lio - Sites</title>
    <link rel="shortcut icon" href="./img/Favicon.png" type="image/png">
    <link rel="stylesheet" href="style.css"> 
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <script src="https://kit.fontawesome.com/7d355892dd.js" crossorigin="anonymous" defer></script>
</head>
<body>

    <header>
        <h1><a href="./index.html"> PortfÃ³lio Digital </a></h1>
        <nav>
            <ul>
                <li><a href="./video.html">VÃ­deos</a></li>
                <li><a href="./img.html">Imagens</a></li>
                <li><a href="./sites.html">Sites</a></li>
            </ul>
        </nav>
         <nav>
            <a href="https://www.instagram.com/luc4s.r0drigo/" target="_blank"> <i class="fa-brands fa-instagram"></i> </a>
            <a href="" target="_blank"> <i class="fa-brands fa-whatsapp"></i> </a>
            <a href="https://github.com/Lucas0Rodrigo" target="_blank"> <i class="fa-brands fa-github"></i></a>
         </nav>
    </header>

    <div class="espaÃ§o"></div>

    <main>
        <div class="box">
            <h2 class="titulo">Meus Projetos Web</h2>
        </div>

        <section class="galeria" id="container-sites">
            </section>
        
        <div class="espaÃ§o"></div>

    </main>

    <footer>
        <p>Â© 2025 Lucas Rodrigo | Todos os direitos reservados.</p>
    </footer>
    
    <script>
      async function carregarSites() {
        const container = document.getElementById('container-sites');
        
        try {
          const resposta = await fetch('dados/sites.json');
          
          if (!resposta.ok) {
             console.log("Ainda nÃ£o hÃ¡ posts cadastrados.");
             container.innerHTML = "<p style='text-align:center; width:100%;'>Carregando projetos...</p>";
             return;
          }
    
          const dados = await resposta.json();
    
          // Limpa o container antes de adicionar (para garantir)
          container.innerHTML = "";

          if (dados.lista) {
            dados.lista.forEach(site => {
              
              // LÃ³gica para definir o texto do Mobile baseado no que vocÃª escolher no Admin
              let textoMobile = "";
              if (site.mobile === "Funciona Bem") {
                  textoMobile = "ðŸ“±ESTE SITE FUNCIONA BEM EM DISPOSITIVOS MÃ“VEISðŸ“±";
              } else {
                  textoMobile = "ðŸ“µESTE SITE PODE NÃƒO FUNCIONAR MUITO BEM EM DISPOSITIVOS MÃ“VEISðŸ“µ";
              }

              // Ajuste do caminho da imagem
              const caminhoImagem = site.imagem.startsWith('/') ? '.' + site.imagem : site.imagem;

              // CriaÃ§Ã£o do HTML idÃªntico ao seu original
              const htmlDoCard = `
                <article class="boximg"> 
                    <img class="responsive-img" src="${caminhoImagem}" alt="Preview do ${site.titulo}">
                    
                    <h3 class="subtitulo">${site.titulo}</h3>
                    
                    <p class="textodescri">
                        ${textoMobile}
                    </p>
                    
                    <a href="${site.url}" target="_blank" class="btn-visitar">
                        Visitar Site
                    </a>
                </article>
              `;

              // Adiciona o card na galeria
              container.insertAdjacentHTML('beforeend', htmlDoCard);
            });
          }
        } catch (erro) {
          console.log("Erro ao carregar:", erro);
        }
      }
    
      carregarSites();
    </script>

</body>
</html>